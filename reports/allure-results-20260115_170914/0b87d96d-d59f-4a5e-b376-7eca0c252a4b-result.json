{"name": "创建无效用户 - 失败", "status": "failed", "statusDetails": {"message": "AssertionError: 状态码验证失败: 期望 400, 实际 201", "trace": "self = <test_user_api.TestUserAPI object at 0x00000000052CA530>\napi_client = <common.api_client.APIClient object at 0x00000000052CA1A0>\ninvalid_data = {'email': 'test@example.com', 'name': ''}\n\n    @allure.story(\"创建用户\")\n    @allure.title(\"创建无效用户 - 失败\")\n    @allure.severity(allure.severity_level.NORMAL)\n    @pytest.mark.parametrize(\"invalid_data\", [\n        {\"name\": \"\", \"email\": \"test@example.com\"},\n        {\"name\": \"Test\", \"email\": \"invalid-email\"},\n    ])\n    def test_create_user_invalid_data(self, api_client, invalid_data):\n        \"\"\"测试使用无效数据创建用户\"\"\"\n        success, response, resp_obj = api_client.post(\"/users\", data=invalid_data)\n    \n        # 假设API会返回400状态码\n>       Assertions.assert_status_code(resp_obj, 400)\n\ntest_cases\\test_user_api.py:84: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nresponse = <Response [201]>, expected_code = 400\n\n    @staticmethod\n    @allure.step(\"验证状态码\")\n    def assert_status_code(response, expected_code: int):\n        \"\"\"验证HTTP状态码\"\"\"\n>       assert response.status_code == expected_code, \\\n            f\"状态码验证失败: 期望 {expected_code}, 实际 {response.status_code}\"\nE       AssertionError: 状态码验证失败: 期望 400, 实际 201\n\ncommon\\assertions.py:13: AssertionError"}, "description": "测试使用无效数据创建用户", "steps": [{"name": "验证状态码", "status": "failed", "statusDetails": {"message": "AssertionError: 状态码验证失败: 期望 400, 实际 201\n", "trace": "  File \"D:\\PycharmProjects\\pytest-allure-demo\\.venv\\lib\\site-packages\\allure_commons\\_allure.py\", line 192, in impl\n    return func(*a, **kw)\n  File \"D:\\PycharmProjects\\pytest-allure-demo\\common\\assertions.py\", line 13, in assert_status_code\n    assert response.status_code == expected_code, \\\n"}, "parameters": [{"name": "response", "value": "<Response [201]>"}, {"name": "expected_code", "value": "400"}], "start": 1768468159095, "stop": 1768468159095}], "attachments": [{"name": "log", "source": "59c0f560-2f73-4440-be63-3cadca55e4cd-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "invalid_data", "value": "{'name': '', 'email': 'test@example.com'}"}], "start": 1768468158389, "stop": 1768468159096, "uuid": "0a56dc3a-7bb2-4a66-93d6-f98dc1261107", "historyId": "80cd43e1286ccb81b635e31b3a7ce05d", "testCaseId": "4cb08193011b0b10d5443000f507af65", "fullName": "test_cases.test_user_api.TestUserAPI#test_create_user_invalid_data", "labels": [{"name": "epic", "value": "用户管理"}, {"name": "feature", "value": "用户API"}, {"name": "story", "value": "创建用户"}, {"name": "severity", "value": "normal"}, {"name": "parentSuite", "value": "test_cases"}, {"name": "suite", "value": "test_user_api"}, {"name": "subSuite", "value": "TestUserAPI"}, {"name": "host", "value": "DESKTOP-LFG6CD1"}, {"name": "thread", "value": "18640-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_cases.test_user_api"}]}